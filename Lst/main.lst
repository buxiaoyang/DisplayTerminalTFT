C51 COMPILER V7.50   MAIN                                                                  02/18/2014 21:12:42 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Obj\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Src\main.c BROWSE INCDIR(.\Src) DEBUG OBJECTEXTEND PRINT(.\Lst\main.lst) OB
                    -JECT(.\Obj\main.obj)

line level    source

   1          /************************************************************/
   2          /*项目：DisplayTerminalTFT
   3          /*模块：主函数
   4          /*CPU:  STC11L60XE
   5          /*晶振: 24Mhz
   6          /*液晶: s6d0154-2.6 TFT
   7          /*日期：2014年2月17日
   8          /*修改：卜晓D
   9          /************************************************************/
  10          
  11          #include "reg52stc.h"
  12          #include "s6d0154.h"
  13          #include "serial.h"
  14          
  15          /******************** 定时器定义 *******************/
  16          #define T0_H 0xF8 //0xFC  1ms from 12MHz 998 to 24MHz 1998
  17          #define T0_L 0x32 //0x1A
  18          #define T1_H 0xfe
  19          #define T1_L 0x31
  20          
  21          /******************** 定时器0中断函数 *******************/
  22          void time0() interrupt 1 //using 1
  23          {
  24   1          TR0=0;
  25   1          TH0=T0_H;   
  26   1          TL0=T0_L;   
  27   1          TR0=1;
  28   1      }
  29          
  30          /******************** 系统初始化函数 *******************/
  31          void InitSys(void)
  32          {
  33   1          EA=0;
  34   1          TCON=0x05;  //1->0 == EX0 INT !!!
  35   1          TMOD=0x21;  //time0:16bit;time1:serial
  36   1          TH1=0xe6;    //12MHz,0xf3, 12T,SMOD=0,2400bps; 24MHz 0xe6
  37   1          TL1=0xe6;
  38   1          PCON=0x00; 
  39   1          SCON=0x70; //MODE:1;   串口10位异步收发，定时器控制
  40   1          ES=1;      //串口中断开
  41   1          ET1=0;
  42   1          TR1=1;
  43   1          ET0=1;
  44   1          EA=1;
  45   1      }
  46          
  47          /******************** 主函数 *******************/
  48          void main(void)
  49          {
  50   1              InitSys();
  51   1          LCD_Init();
  52   1              Display_Running();
  53   1          while(1)
  54   1          {
C51 COMPILER V7.50   MAIN                                                                  02/18/2014 21:12:42 PAGE 2   

  55   2                      /*
  56   2                 Display_Loding();
  57   2                 delayms(10000);
  58   2                 
  59   2                 delayms(20000);   
  60   2                 Display_Running1();
  61   2                 delayms(20000); 
  62   2                 Display_Running2();
  63   2                 delayms(20000); 
  64   2                 Display_Running3();
  65   2                 delayms(20000); 
  66   2                 */ 
  67   2          }
  68   1      }
  69          
  70          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     53    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
