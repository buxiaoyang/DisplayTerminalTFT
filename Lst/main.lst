C51 COMPILER V7.50   MAIN                                                                  02/15/2014 12:33:07 PAGE 1   


C51 COMPILER V7.50, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Obj\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Src\main.c BROWSE INCDIR(.\Src) DEBUG OBJECTEXTEND PRINT(.\Lst\main.lst) OB
                    -JECT(.\Obj\main.obj)

line level    source

   1          //******************************************************************
   2          //  CPU:STC11L60XE
   3          //  CRY:11.0592Mhz
   4          //  LCM:s6d0154-2.6 TFT
   5          //  PCB:v1
   6          //  NAM:彩屏程序                                            20120906
   7          //******************************************************************
   8          //#include <REG54.H>
   9          #include <reg51.h>
  10          #define uchar unsigned char
  11          #define uint unsigned int
  12          
  13          #include <HEAD.H>
  14          
  15          //#include"init_tft.h"
  16          #include"s6d0154_drv.h"
  17          
  18          //---------------------------------
  19          #define T0_H 0xfc
  20          #define T0_L 0x66
  21          #define T1_H 0xfe
  22          #define T1_L 0x31
  23          void Delay(unsigned int);
  24          #include <serial.h> //串口功能
  25          #include <SysTem.H>
  26          //****************************************************************
  27          //  延时1ms程序
  28          //****************************************************************
  29          //           fosc=12MHz;count=10;j=5, i=62; Keil uV2=9.977ms
  30          //STC12c4042:fosc=12Mhz;count=1; j=10,i=169;KEIL750 =1.000ms!!!不准!!!实际长了
  31          //STC12c5410AD:内置5.756373M;count=10;j=10,i=78;KEIL750=10.000ms!
  32          void Delay(unsigned int count)// delay=1ms*count
  33          {
  34   1          unsigned char i,j;
  35   1          while(count--!=0)
  36   1          {   for(j=0;j<10;j++)
  37   2                  {    for(i=0;i<168;i++);
  38   3      }   }   }
  39          //******************************************************************
  40          //  在TFT上显示字符
  41          //------------------------------------------------------------------
  42          void ViewTFT(void)
  43          {
  44   1          LCD_CS =0;  //打开片选使能
  45   1          //---------------------------------
  46   1          ChineseChar(14+46,10,2,colors[2],colors[7],1);      //伤
  47   1          ChineseChar(46+46,10,2,colors[2],colors[7],2);      //心
  48   1          ChineseChar(78+46,10,2,colors[2],colors[7],3);      //液
  49   1          ChineseChar(110+46,10,2,colors[2],colors[7],4);     //晶
  50   1              //---------------------------------
  51   1          ChineseChar( 0,60,1,colors[0],colors[7],1);     //靠
  52   1          ChineseChar(24,60,1,colors[0],colors[7],2);     //!
  53   1          
  54   1          ChineseChar( 48,60,1,colors[1],colors[7],3);    //
C51 COMPILER V7.50   MAIN                                                                  02/15/2014 12:33:07 PAGE 2   

  55   1          ChineseChar( 72,60,1,colors[2],colors[7],4);    //
  56   1          ChineseChar( 96,60,1,colors[3],colors[2],5);    //
  57   1          ChineseChar(120,60,1,colors[4],colors[7],6);        //
  58   1          ChineseChar(144,60,1,colors[5],colors[7],7);        //
  59   1          ChineseChar(168,60,1,colors[6],colors[7],8);        //
  60   1          ChineseChar(192,60,1,colors[5],colors[2],9);        //片
  61   1              //---------------------------------
  62   1          ChineseChar( 0,90,1,colors[4],colors[7],10);    //
  63   1              ChineseChar(24,90,1,colors[4],colors[7],11);    //
  64   1              ChineseChar(48,90,1,colors[6],colors[7],12);    //
  65   1              ChineseChar(72,90,1,colors[6],colors[7],13);    //
  66   1              
  67   1              ChineseChar( 96,90,1,colors[2],colors[7],14);   //
  68   1              ChineseChar(120,90,1,colors[2],colors[7],15);   //
  69   1              ChineseChar(144,90,1,colors[2],colors[7],16);   //
  70   1              ChineseChar(168,90,1,colors[4],colors[7],17);   //
  71   1              ChineseChar(192,90,1,colors[4],colors[7],18);   //
  72   1              //---------------------------------
  73   1          ChineseChar( 0,120,1,colors[4],colors[7],19);   //
  74   1              ChineseChar(24,120,1,colors[5],colors[2],20);   //
  75   1              ChineseChar(48,120,1,colors[5],colors[2],21);   //
  76   1              ChineseChar(72,120,1,colors[5],colors[2],22);   //
  77   1              
  78   1              ChineseChar( 96,120,1,colors[2],colors[7],23);  //
  79   1              ChineseChar(120,120,1,colors[2],colors[7],24);  //
  80   1              ChineseChar(144,120,1,colors[2],colors[7],25);  //
  81   1              ChineseChar(168,120,1,colors[4],colors[7],26);  //
  82   1              ChineseChar(192,120,1,colors[4],colors[7],27);  //
  83   1              //---------------------------------
  84   1          ChineseChar( 0,150,1,colors[4],colors[7],28);   //
  85   1              ChineseChar(24,150,1,colors[1],colors[7],29);   //
  86   1              ChineseChar(48,150,1,colors[2],colors[7],30);   //
  87   1              ChineseChar(72,150,1,colors[3],colors[2],31);   //
  88   1              
  89   1              ChineseChar( 96,150,1,colors[2],colors[7],32);  //?
  90   1              //---------------------------------
  91   1          
  92   1          //LCD_ShowString(12,60,colors[0],colors[7],"-");
  93   1          //LCD_ShowString(0,90,colors[0],colors[5],"WWW.PRINTER.com");
  94   1          //LCD_ShowString(216,120,colors[4],colors[7],":");
  95   1          
  96   1              LCD_ShowString(0,180,colors[7],colors[2],"www.s6d0154.com");//www.s6d0154.com.net若超出字符不予显示
  97   1          //LCD_ShowString(12,180,colors[0],colors[7],"TELL:");
  98   1          
  99   1          LCD_ShowString(0,210,colors[2],colors[7],"T: 010-12345678");        
 100   1          LCD_ShowString(0,240,colors[2],colors[7],"abcdefJhiJKLMNOP"); 
 101   1          LCD_ShowString(0,265,colors[2],colors[7],"pqrstuvwxyz!@#$"); 
 102   1          LCD_ShowString(0,290,colors[2],colors[7],"<>CDEF^&*()/,[]");
 103   1          //---------------------------------
 104   1              LCD_CS =1;  //关闭片选使能
 105   1      }
 106          //******************************************************************
 107          //  主程序
 108          //------------------------------------------------------------------
 109          void main(void)
 110          {
 111   1          Delay(100);
 112   1              InitSys();//初始化timer/serial-isp
 113   1          //---------------------------------
 114   1          Delay(100);
 115   1          LCD_Init();//-yuan
 116   1          Delay(100);
C51 COMPILER V7.50   MAIN                                                                  02/15/2014 12:33:07 PAGE 3   

 117   1          /*
 118   1                  //---------------------------------
 119   1                  Pant(0xff,0xff);  //TFT清屏
 120   1                  Delay(100);
 121   1                  //---------------------------------
 122   1                  Display_Image();
 123   1                  Delay(2000);
 124   1                  //while(1);
 125   1          */
 126   1                  ViewTFT();          //在TFT上显示字符
 127   1                  Delay(3000);
 128   1                  //while(1);
 129   1                  
 130   1          while(1)
 131   1          {
 132   2              Display_Red();
 133   2              Delay(300);
 134   2              Display_Green();
 135   2              Delay(300);
 136   2              Display_Blue();
 137   2              Delay(300);
 138   2              Display_White();
 139   2              Delay(300);
 140   2              Display_Black();
 141   2              Delay(300);
 142   2              //---------------------------------
 143   2              while(1)
 144   2              {
 145   3                  Pant(0xff,0xff);    //TFT清屏
 146   3                  //Delay(100);
 147   3                  Display_Image();    //显示图片240*80
 148   3                  Delay(3000);
 149   3                  //---------------------------------
 150   3                  //Pant(0xff,0xff);  //不清屏的话就在上幅Image上覆盖
 151   3                  //Delay(100);
 152   3                  ViewTFT();          //在TFT上显示字符
 153   3                  Delay(3000);
 154   3              }
 155   2          }
 156   1      }
 157          //while(1){Delay(500);PWM0=~PWM0;}
 158          //******************************************************************
 159          //  
 160          //------------------------------------------------------------------
 161          
 162          //---------------------------------
 163          
 164          //******************************************************************
 165          //  
 166          //------------------------------------------------------------------


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1495    ----
   CONSTANT SIZE    =     81    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2       1
   IDATA SIZE       =     16    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
